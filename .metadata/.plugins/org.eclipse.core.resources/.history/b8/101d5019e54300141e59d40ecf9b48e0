package com.designer.gwt.client;

import com.google.gwt.core.client.GWT;
import com.google.gwt.event.dom.client.ClickEvent;
import com.google.gwt.event.dom.client.ClickHandler;
import com.google.gwt.resources.client.CssResource;
import com.google.gwt.uibinder.client.UiBinder;
import com.google.gwt.uibinder.client.UiField;
import com.google.gwt.uibinder.client.UiHandler;
import com.google.gwt.user.client.Window;
import com.google.gwt.user.client.ui.Button;
import com.google.gwt.user.client.ui.Composite;
import com.google.gwt.user.client.ui.DecoratedTabPanel;
import com.google.gwt.user.client.ui.HTMLPanel;
import com.google.gwt.user.client.ui.PopupPanel;
import com.google.gwt.user.client.ui.Widget;

public class Designertest extends Composite {

	private static DesignertestUiBinder uiBinder = GWT
			.create(DesignertestUiBinder.class);
	@UiField
	Button button;
	
	@UiField
	Button buttonLast;
	
	@UiField
	HTMLPanel envContainer;
	
	@UiField
	DecoratedTabPanel eastPanel;
	
	@UiField
	MyStyle style;

	interface DesignertestUiBinder extends UiBinder<Widget, Designertest> {
	}

	public Designertest() {
		initWidget(uiBinder.createAndBindUi(this));
		eastPanel.selectTab(0);
		buttonLast.addClickHandler(new ClickHandler() {
			
			@Override
			public void onClick(ClickEvent event) {
				Button b = new Button("Yayy!");
				b.setStyleName("button.header");
				b.getElement().addClassName(style.header());
	
			//	envContainer.add(b);
				
			}
		});
	}
	
	

	@UiHandler("button")
	void onButtonClick(ClickEvent event) {
		final PopupPanel popup = new PopupPanel();

		int width = (Window.getClientWidth() / 2);
		popup.setWidth(width + "px");

		int height = (Window.getClientHeight() / 2);
		popup.setHeight(height + "px");

		popup.setGlassEnabled(true);
		popup.setWidget(new PopupBase());
		popup.center();

	}
	
	  interface MyStyle extends CssResource {
		    String header();
		  }
}
