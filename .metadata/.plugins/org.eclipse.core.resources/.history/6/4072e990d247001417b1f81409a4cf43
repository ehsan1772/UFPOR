package com.designer.gwt.client;

import com.google.gwt.core.client.GWT;
import com.google.gwt.event.dom.client.ClickEvent;
import com.google.gwt.uibinder.client.UiBinder;
import com.google.gwt.uibinder.client.UiField;
import com.google.gwt.uibinder.client.UiHandler;
import com.google.gwt.user.client.Window;
import com.google.gwt.user.client.ui.Button;
import com.google.gwt.user.client.ui.Composite;
import com.google.gwt.user.client.ui.TabLayoutPanel;
import com.google.gwt.user.client.ui.Widget;

public class PopupBase extends Composite {
	@UiField TabLayoutPanel panel;
	@UiField Button save;
	
	private static PopupBaseUiBinder uiBinder = GWT
			.create(PopupBaseUiBinder.class);

	interface PopupBaseUiBinder extends UiBinder<Widget, PopupBase> {
	}

	public PopupBase() {
		initWidget(uiBinder.createAndBindUi(this));
	}
	
	@UiHandler("save")
	  void handleClick(ClickEvent e) {
	    Window.alert("Hello, AJAX");
	  }

	@Override
	protected void initWidget(Widget widget) {
		super.initWidget(widget);

		panel.add(new EnvironmentGeneral(), "General");
		panel.add(new EnvironmentGrouping(), "Grouping");
		
		EnvironmentGrouping adjacencies = new EnvironmentGrouping();
		adjacencies.setFirstTitle("Required Adjacencies");
		adjacencies.setSecondTitle("Avoid Adjacencies");
		panel.add(adjacencies, "Adjacencies");
	
		EnvironmentActivity activity = new EnvironmentActivity();
		activity.setFirstTitle("Activities");
		activity.setSecondTitle("People");
		panel.add(activity, "Activities");
		
		DataGridTest test = new DataGridTest();
		panel.add(test, "Requirements");
		
		panel.selectTab(0);
		test.redraw();
	}

}
